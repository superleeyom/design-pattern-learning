## 桥梁模式

### 类图

![](http://image.leeyom.top/blog/20200911121149.png)

### 定义

- 桥梁模式（Bridge Pattern）也叫做桥接模式，是一个比较简单的模式，其定义如下：将抽象和实现解耦，使得两者可以独立地变化。
- 桥梁模式的重点是在“解耦”上，就像我们的示例中，我们可以随时新增一个公司或者产品，或随时可以山寨一个新的产品等。

### 优点

- 抽象和现实分离：这也是桥梁模式的主要特点，它完全是为了解决继承的缺点而提出的设计模式。在该模式下，实现可以不受抽象的约束，不用再绑定在一个固定的抽象层次上。
- 优秀的扩展能力
- 客户不用关心细节的实现，它已经由抽象层通过聚合关系完成了封装。

### 缺点

缺点有没有？有！即强侵入，父类有一个方法，子类也必须有这个方法。这是不可选择的，会带来扩展性的问题。

### 使用场景

- 不希望或不适用使用继承的场景：例如继承层次过渡、无法更细化设计颗粒等场景，需要考虑使用桥梁模式。
- 接口或抽象类不稳定的场景：明知道接口不稳定还想通过实现或继承来实现业务需求，那是得不偿失的，也是比较失败的做法。
- 重用性要求较高的场景：设计的颗粒度越细，则被重用的可能性就越大，而采用继承则受父类的限制，不可能出现太细的颗粒度。

### 注意事项

- 桥梁模式的意图还是对变化的封装，尽量把可能变化的因素封装到最细、最小的逻辑单元中，避免风险扩散。